<!DOCTYPE html>
<html>
<head>
<title>动手实现一个网页加载进度loading</title>
<meta charset="utf-8"/>
</head>
<style type="text/css">
    .loading {
      display: table;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #fff;
      z-index: 5;
    }

    .loading .progress {
      display: table-cell;
      vertical-align: middle;
      text-align: center;
    }
 </style>
 <body>
   <div class="loading" id="loading">
     <div class="progress" id="progress">0%</div>
   </div>
</body>
<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript">
    
  


    var $loading = $('#loading')
    var $progress = $('#progress')
    var prg = 0

    var timer = 0

    progress(80, 100)

    window.onload = () => {
      progress(100, 10, () => {
        $loading.hide()
      })
    }

    function progress (dist, delay, callback) {
      window.clearInterval(timer)
      timer = window.setInterval(() => {
        if (prg >= dist) {
          window.clearInterval(timer)
          prg = dist
          callback && callback()
        } else {
          prg++
        }

        $progress.html(prg + '%')
        console.log(prg)
      }, delay)
    }
</script>
</html>