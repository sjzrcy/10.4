import QtQuick 1.1

Rectangle {
    id: applicationRect
    width: 300;
    height: 300
    color:"#EFF5FB"

    ListModel {
        id: elements

  ListElement
        {
            picture_path :  "http://img03.taobaocdn.com/tps/i3/T1bhC4XileXXXXXXXX-80-80.jpg"
            title :  "锦鸿良品"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=21295&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"全新的旺旺插件，它可以大幅提升您的工作效率，让您更方便的管理您的用户、商品、订单，大幅增加用户的购物体验。"
        }
        ListElement
        {
            picture_path :  "http://img03.taobaocdn.com/tps/i3/T19hS2XiRXXXXXXXXX-80-80.jpg"
            title :  "免邮宝"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=15319&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"改运费就用爱多淘免邮宝，全自动智能修改，突破淘宝购物车限制，全天运行，瞬间修改，让每个客户享受完美购物体验。"
        }

        ListElement
        {
            picture_path :  "http://img02.taobaocdn.com/tps/i2/T1cVe2XfNsXXXXXXXX-80-80.png"
            title :  "掌柜助手"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=5518&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"包含了“进销存管理”，“异常订单处理”，“订单的打印发货”，“橱窗推荐”等诸多功能；拥有发货自动出库，软件自动扣除库存，配合打印等功能。"
        }

        ListElement
        {
            picture_path :  "http://img01.taobaocdn.com/tps/i1/T1piy2XlReXXXXXXXX-80-80.jpg"
            title :  "网店伴侣"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=5747&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"核心功能：【进销存】【打单发货】【客户营销】【快递跟踪】【售后服务】【统计分析】【多店铺共用库存】；发货后自动出库，自动扣除库存，库存实时同步，发货短信通知，用户权限管理，日处理上万单。"
        }

        ListElement
        {
            picture_path :  "http://img03.taobaocdn.com/tps/i3/T1kyy2Xl4eXXXXXXXX-80-80.png"
            title :  "库存宝"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=415&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"商家实际库存管理，自由设置买家付款/卖家发货自动扣除实际库存，包含店铺销售/成本/毛利统计分析，宝贝尺码销售明细，支持卖空自动下架/库存警戒/E客服账号登录。"
        }

        ListElement
        {
            picture_path :  "http://img01.taobaocdn.com/tps/i1/T1w4S2XjVXXXXXXXXX-80-80.jpg"
            title :  "淘喜欢"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=4807&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"专为淘宝卖家提供客户关系管理和二次营销的软件系统。该系统能够帮助卖家收集海量历史订单及会员数据，通过多维筛选细分出价值会员群，结合高性价比的短信工具进行差异化营销提升会员的重复购买率。"
        }

        ListElement
        {
            picture_path :  "http://img02.taobaocdn.com/tps/i2/T18xS2XiRXXXXXXXXX-80-80.jpg"
            title :  "淘客户"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=11907&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"专为淘宝卖家提供的会员管理的软件，让你的客户一目了然，销售数据明确，软件能够帮助卖家收集海量交易及客户数据，通过多维筛选细分出价值会员群，进行精准的二次营销。"
        }

        ListElement
        {
            picture_path :  "http://img03.taobaocdn.com/tps/i3/T1BNS2XjNXXXXXXXXX-80-80.jpg"
            title :  "客道精灵"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=12274&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"首款官方旺旺插件，客服效率提升5倍以上，极大降低客服响应时间，提升客服服务质量，提升转化率与客单价。通过对售前、售中、售后工作的分析，针对各业务细节进行优化，有效提升客服能力。"
        }

        ListElement
        {
            picture_path :  "http://img04.taobaocdn.com/tps/i4/T1s4S2Xj0XXXXXXXXX-80-80.jpg"
            title :  "超级绩效"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=6363&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"全面监控客服的销售额、工作量、转化率、流失率、回复率等多达20多项关键指标，并从店铺、客服、旺旺多层角度挖掘客服潜在销售能力。"
        }

        ListElement
        {
            picture_path :  "http://img01.taobaocdn.com/tps/i1/T1cxe2XmVkXXXXXXXX-80-80.png"
            title :  "淘算盘"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=541&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"自动分析利润、销售、成本、退款等30几项财务数据；精准的配货报表；算账、对帐、记账；日报、周报、月报、年报；利润排行、走势；利润表、资产负债表。"
        }

        ListElement
        {
            picture_path :  "http://img03.taobaocdn.com/tps/i3/T1y4e2XmlkXXXXXXXX-80-80.png"
            title :  "行情参谋"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=10054&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"专业宝贝标题优化，关键词优化软件。系统提供数百万与宝贝相关的热搜关键词。提供关键词的热销度，卖家数，关注指数等数据化分。"
        }

        ListElement
        {
            picture_path :  "http://img04.taobaocdn.com/tps/i4/T12Aa2XXXfXXXXXXXX-80-80.png"
            title :  "生e经"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=413&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"对本店流量、销售趋势、宝贝情况、行业情报进行实时追踪和深度分析，帮助掌柜做好关联营销、精准投放广告、合理制定价格、追踪活动效果等。"
        }

        ListElement
        {
            picture_path :  "http://img03.taobaocdn.com/tps/i3/T1G9m2XkFXXXXXXXXX-80-80.png"
            title :  "钻展透视"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=20181&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"淘宝首款钻石展位效果监测工具。全方位监测钻展带来的成交额、转化率等数据指标，并可监测7天延续性效果走势。赠送钻展素材库。"
        }

        ListElement
        {
            picture_path :  "http://img02.taobaocdn.com/tps/i2/T1cNe2Xm8kXXXXXXXX-80-80.jpg"
            title :  "小艾分析"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=424&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"网店商业智能创新者小艾分析标准版帮助你驾驭流量趋势、洞察销量密码、清晰推广方向。"
        }

        ListElement
        {
            picture_path :  "http://img02.taobaocdn.com/tps/i2/T1xQK2XkXeXXXXXXXX-80-80.png"
            title :  "收藏有礼"
            url: "http://fuwu.taobao.com/serv/detail.htm?service_id=704&tracelog=tbzl"
            target: "external"
            type:"web"
			identity:""
            description:"收藏有礼能帮助掌柜轻松开展促销活动，提高店铺销量；还能提高收藏人气，吸引回头客。"
        }
    }

    Component {
        id: appDelegate

        Rectangle {
            id: mainBox
            width: 140
            height: 140
            color: "#00000000"

            Image {
                id: pic
                width: 80
                height: 80
                anchors.top: parent.top
                anchors.topMargin: 20
                fillMode: Image.PreserveAspectFit
                anchors.horizontalCenter: parent.horizontalCenter
                source: picture_path


                Image {
                    id: busyIndicator
                    source: "http://img01.taobaocdn.com/tps/i1/T1qQa3XodeXXXXXXXX-18-18.png";
                    visible: pic.status != Image.Ready
                    NumberAnimation on rotation { running: pic.status != Image.Ready; from: 0; to: 360; loops: Animation.Infinite; duration: 1200 }
                }



                MouseArea
                {
                    id: picMouseArea
                    anchors.fill: parent
                    hoverEnabled: true

                    onEntered :
                    {
                        descriptionBox.visible=true;

                        mainBox.z=10;
                        pic.z=10;
                        titleText.z=10;

                        var positonInRoot = mapToItem(null, descriptionBox.width, descriptionBox.y);

                        if(positonInRoot.x>(grid.width))
                        {
                            descriptionBox.anchors.left=undefined;
                            descriptionBox.anchors.right=parent.right;

                            descriptionText.anchors.rightMargin=0;
                            descriptionText.anchors.leftMargin=12;
                            descriptionText.anchors.right=undefined;
                            descriptionText.anchors.left=descriptionBox.left;
                        }
                        else
                        {
                            descriptionBox.anchors.right=undefined;
                            descriptionBox.anchors.left=parent.left;

                            descriptionText.anchors.leftMargin=0;
                            descriptionText.anchors.rightMargin=12;
                            descriptionText.anchors.left=undefined;
                            descriptionText.anchors.right=descriptionBox.right;
                        }
                    }

                    onExited:
                    {
                        descriptionBox.visible=false;

                        mainBox.z=0;
                        pic.z=10;
                        titleText.z=0;
                    }

                    onClicked:
                    {
                        if(type=="web")
                        {
                            applicationOperator.openUrl(title,url,target);
                        }
                        else
                        {
                            applicationOperator.openApp(identity);
                        }
                    }
                }

                Image {
                    id: webMarkImage
                    anchors.left: pic.left
                    anchors.bottom: pic.bottom
                    source : "http://img02.taobaocdn.com/tps/i2/T1Gy53XlVgXXXXXXXX-28-28.png"
                    visible: (type=="web" && picMouseArea.containsMouse)
                }

            }

            Text {
                id: titleText
                height: 24
                text: title
                font.bold: true
                anchors.bottom: parent.bottom
                anchors.bottomMargin: 4
                horizontalAlignment: Text.AlignHCenter
                anchors.right: parent.right
                anchors.rightMargin: 0
                anchors.left: parent.left
                anchors.leftMargin: 0
                font.pixelSize: 14
            }


            Rectangle {
                id: descriptionBox
                height:140
                width: 280
                color:"white"
                radius: 12
                anchors.left: parent.left
                visible: false;

                Text {
                    id: descriptionText
                    width: 150
                    height: parent.height
                    anchors.top: descriptionBox.top
                    anchors.topMargin: 12
                    anchors.right: parent.right
                    anchors.rightMargin: 12
                    color:"#1E395B"

                    text:description
                    verticalAlignment: Text.AlignVCenter

                    lineHeightMode: Text.FixedHeight
                    lineHeight: 17

                    wrapMode: Text.WrapAtWordBoundaryOrAnywhere

                    anchors.verticalCenter: parent.verticalCenter
                    font.pixelSize: 12
                }

                MouseArea
                {
                    id : descriptionMouseArea
                    anchors.fill: parent;
                    hoverEnabled: true

                    onContainsMouseChanged:
                    {
                        if(!descriptionMouseArea.containsMouse )
                        {
                            descriptionBox.visible=false;

                            if(descriptionBox.visible)
                            {
                                mainBox.z=10;
                                pic.z=10;
                                titleText.z=10
                            }
                            else
                            {
                                mainBox.z=0;
                                pic.z=10;
                                titleText.z=0
                            }
                        }
                    }
                }
            }

        }
    }


    GridView {
        id : grid
        anchors.fill: parent
        cellWidth: 140;
        cellHeight: 140
        focus: true
        model: elements
        delegate: appDelegate

        cacheBuffer : 60

        snapMode: GridView.SnapToRow
        boundsBehavior: Flickable.StopAtBounds

        transitions: Transition {
            NumberAnimation { properties: "opacity"; duration: 400 }
        }
    }

}
